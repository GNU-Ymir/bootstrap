use std::io;

fn foo {F : fn (ref mut U, i32)-> Z, Z, U} (ref mut a : U)-> Z {
    F (a, 23)
}

fn main () {
    let mut x = 0;
    let z = foo!{|ref mut x : i32, y| => { x = 1; x + y }} (ref x);
    println (z, " ", x);
}
